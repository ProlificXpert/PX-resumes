<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Upload Resume — ProlificXpert</title>

<style>
:root{
  --blue:#007BFF;
  --grad1:#0ea5a4;
  --grad2:#007BFF;
  --card:#fff;
  --muted:#6b7280;
  --radius:14px;
}
*{box-sizing:border-box;}
body{
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  margin:0;padding:20px;
  background:linear-gradient(180deg,#f4f8ff 0%,#fff 60%);
  min-height:100vh;
  display:flex;
  justify-content:center;
  color:#0f172a;
}
.stage{width:100%;max-width:900px;}
.hero{text-align:center;margin-bottom:20px;}
.hero h1{
  margin:0;font-size:28px;font-weight:800;
  background:linear-gradient(90deg,var(--grad1),var(--grad2));
  -webkit-background-clip:text;color:transparent;
}
.hero p{margin-top:8px;font-size:14px;color:var(--muted);}
.card{
  background:#fff;border-radius:14px;padding:26px;
  box-shadow:0 12px 40px rgba(0,0,0,.08);
  border-top:6px solid;
  border-image:linear-gradient(90deg,var(--grad1),var(--grad2)) 1;
}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.full{grid-column:1/-1;}
.section-title{grid-column:1/-1;font-weight:700;margin-top:8px;}
.input-wrap{
  background:#fbfbff;border:1px solid #e6e9ef;
  padding:12px;border-radius:10px;
}
input,select{width:100%;border:none;outline:none;background:transparent;font-size:15px;}
.btn{
  width:100%;padding:14px;border-radius:12px;
  background:linear-gradient(90deg,var(--grad1),var(--grad2));
  color:white;font-size:16px;font-weight:700;border:none;cursor:pointer;
}
.spinner{
  width:18px;height:18px;border:2px solid rgba(255,255,255,.4);
  border-top-color:#fff;border-radius:50%;
  animation:spin .8s linear infinite;display:none;margin-left:8px;
}
@keyframes spin{to{transform:rotate(360deg)}}
.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.45);
  display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;
}
.modal-backdrop.show{opacity:1;pointer-events:auto;}
.modal{background:#fff;padding:22px;border-radius:14px;text-align:center;}
</style>
</head>

<body>
<div class="stage">
  <div class="hero">
    <h1>Upload Your Resume</h1>
    <p>Submit your profile — our team will review and get back to you.</p>
  </div>

  <div class="card">
    <form id="uploadForm">
      <div class="grid">

        <div class="section-title">Personal Info</div>
        <div><label>Full Name</label><div class="input-wrap"><input id="name" required></div></div>
        <div><label>Email</label><div class="input-wrap"><input id="email" type="email" required></div></div>
        <div><label>Phone</label><div class="input-wrap"><input id="phone" required></div></div>
        <div><label>Location</label><div class="input-wrap"><input id="location" required></div></div>

        <div class="section-title">Experience</div>
        <div><label>Total Experience</label><div class="input-wrap"><input id="total_experience" type="number" required></div></div>
        <div><label>Relevant Experience</label><div class="input-wrap"><input id="relevant_experience" type="number" required></div></div>
        <div class="full"><label>Skills</label><div class="input-wrap"><input id="skills" required></div></div>

        <div class="section-title">Visa Status</div>
        <div class="full">
          <div class="input-wrap">
            <select id="visa" required>
              <option value="">Select Visa Status</option>
              <option>EU Citizen / Permanent Resident</option>
              <option>Valid EU Work Permit</option>
              <option>Dependent Visa (Work Allowed)</option>
              <option>Student Visa (Work Allowed)</option>
              <option>Need Visa Sponsorship</option>
              <option>Other</option>
            </select>
          </div>
        </div>

        <div class="section-title">Resume</div>
        <div class="full"><input id="file" type="file" accept=".pdf,.doc,.docx" required></div>

        <div class="full">
          <button class="btn">
            Submit Application <span class="spinner" id="spinner"></span>
          </button>
        </div>

      </div>
    </form>
  </div>
</div>

<div id="modal" class="modal-backdrop">
  <div class="modal">
    <h3>Upload Successful</h3>
    <p>Your resume has been uploaded.</p>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzSJRsAj_VDnMqnHWjZuPeUk33xo0w87TVqP1dynyMNK0Bq4FmhSxnxGxO3VoKHO9RQ/exec";

const form = document.getElementById("uploadForm");
const spinner = document.getElementById("spinner");
const modal = document.getElementById("modal");

form.addEventListener("submit", e => {
  e.preventDefault();
  const file = document.getElementById("file").files[0];
  if (!file) return alert("Please upload resume");

  spinner.style.display = "inline-block";

  const reader = new FileReader();
  reader.onload = async () => {
    const fd = new FormData();
    fd.append("filename", file.name);
    fd.append("mimetype", file.type);
    fd.append("filedata", reader.result.split(",")[1]);
    fd.append("data", JSON.stringify({
      name: document.getElementById("name").value,
      email: document.getElementById("email").value,
      phone: document.getElementById("phone").value,
      location: document.getElementById("location").value,
      total_experience: document.getElementById("total_experience").value,
      relevant_experience: document.getElementById("relevant_experience").value,
      skills: document.getElementById("skills").value,
      visa: document.getElementById("visa").value
    }));

    await fetch(scriptURL, { method: "POST", body: fd });
    spinner.style.display = "none";
    modal.classList.add("show");
    form.reset();
  };
  reader.readAsDataURL(file);
});

function closeModal() {
  modal.classList.remove("show");
}
</script>

</body>
</html>
